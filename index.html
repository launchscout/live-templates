<html>
  <head>
    <script async src="https://ga.jspm.io/npm:es-module-shims@1.8.2/dist/es-module-shims.js" crossorigin="anonymous"></script>
    <script type="importmap">
    {
      "imports": {
        "phx-live-state": "https://ga.jspm.io/npm:phx-live-state@0.11.2/build/src/index.js",
        "sprae": "https://ga.jspm.io/npm:sprae@8.1.3/src/index.js",
        "template-parts": "https://ga.jspm.io/npm:template-parts@1.0.5/template-parts.js",
        "templize/templize.js": "https://ga.jspm.io/npm:templize@2.4.4/templize.js",
        "wc-context": "https://ga.jspm.io/npm:wc-context@1.0.0/core.js"
      },
      "scopes": {
        "https://ga.jspm.io/": {
          "@preact/signals-core": "https://ga.jspm.io/npm:@preact/signals-core@1.5.1/dist/signals-core.module.js",
          "element-props": "https://ga.jspm.io/npm:element-props@2.6.0/element-props.js",
          "json-joy/esm/json-patch": "https://ga.jspm.io/npm:json-joy@1.19.0/esm/json-patch/index.js",
          "phoenix": "https://ga.jspm.io/npm:phoenix@1.6.15/priv/static/phoenix.mjs",
          "process": "https://ga.jspm.io/npm:@jspm/core@2.0.1/nodelibs/browser/process.js",
          "reflect-metadata": "https://ga.jspm.io/npm:reflect-metadata@0.1.14/Reflect.js",
          "sube": "https://ga.jspm.io/npm:sube@2.3.0/sube.js",
          "subscript": "https://ga.jspm.io/npm:subscript@7.5.5/subscript.js",
          "subscript/parse.js": "https://ga.jspm.io/npm:subscript@7.5.5/parse.js"
        }
      }
    }
    </script>
    <script type="module">
      import './src/live-template.js'
    </script>
  </head>
  <body>
    <live-template url="ws://localhost:4000/live_state" topic="todo:all" provide-context="mrstate">
      <template>
        <ul>
          <li :each="todo in todos" :text="todo">
        </ul>
        <form @submit="sendEvent('add-todo', event)">
          <label>Todo item</label>
          <input :value="new_todo" name="todo" />
          <button>Add todo</button>
        </form>
      </template>
      <div>some fallback content</div>
    </live-template>
    <live-template consume-context="mrstate">
      <div :each="todo in todos" :text="todo"></div>
    </live-template>
  </body>
</html>