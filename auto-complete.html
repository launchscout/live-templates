<html>
  <head>
    <!-- Generated by @jspm/generator VSCode Extension - https://github.com/jspm/jspm-vscode -->
    <script async src="https://ga.jspm.io/npm:es-module-shims@1.10.0/dist/es-module-shims.js" crossorigin="anonymous"></script>
    <script type="importmap">
    {
      "imports": {
        "@github/combobox-nav": "https://ga.jspm.io/npm:@github/combobox-nav@3.0.1/dist/index.js",
        "debounce": "https://ga.jspm.io/npm:debounce@2.0.0/index.js",
        "phx-live-state": "https://ga.jspm.io/npm:phx-live-state@0.11.2/build/src/index.js",
        "sprae": "https://ga.jspm.io/npm:sprae@9.1.1/sprae.js",
        "wc-context": "https://ga.jspm.io/npm:wc-context@1.0.0/core.js"
      },
      "scopes": {
        "https://ga.jspm.io/": {
          "json-joy/esm/json-patch": "https://ga.jspm.io/npm:json-joy@1.19.0/esm/json-patch/index.js",
          "phoenix": "https://ga.jspm.io/npm:phoenix@1.6.15/priv/static/phoenix.mjs",
          "process": "https://ga.jspm.io/npm:@jspm/core@2.0.1/nodelibs/browser/process.js",
          "reflect-metadata": "https://ga.jspm.io/npm:reflect-metadata@0.1.14/Reflect.js",
          "subscript": "https://ga.jspm.io/npm:subscript@7.6.2/subscript.js",
          "swapdom/deflate": "https://ga.jspm.io/npm:swapdom@1.2.1/deflate.js"
        }
      }
    }
    </script>
    <script type="module">
      import './src/live-template.js';
      import './simple-autocomplete.js'
    </script>
    <script type="module" src="./auto-complete.js"></script>
    <style>
      auto-complete [aria-selected='true'],
      auto-complete [role='option']:hover {
        background-color: lavender;
      }
  
      auto-complete [aria-disabled='true'] {
        color: grey;
      }
      simple-autocomplete [aria-selected='true'],
      simple-autocomplete [role='option']:hover {
        background-color: lavender;
      }
  
      simple-autocomplete [aria-disabled='true'] {
        color: grey;
      }

    </style>
  </head>
  <body>
    <live-template url="ws://localhost:4000/live_state" topic="people:search" custom-events="autocomplete-commit,autocomplete-search">
      <div>
        The chosen people:
        <ul>
          <li :each="person in selected_people" :text="person.first_name + ' ' + person.last_name"></li>
        </ul>
      </div>
      <simple-autocomplete :sendautocomplete-commit="choose-person" :sendautocomplete-search="search" clear-on-select="true">
        <input slot="input" type="search" name="query" autocomplete="off" />
        <ul slot="list">
          <li :each="person in people" :data-person-id="person.id" role="option" :text="person.first_name + ' ' + person.last_name"></li> 
        </ul>
      </simple-autocomplete>
  
    </live-template>
  </body>
</html>